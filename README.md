# 電子支付錢包自動化測試框架

## 簡介

該框架使用 Python 和 pytest 進行測試，並涵蓋多種支付方式，包括主動式支付、被動式支付以及條碼和 QR 碼支付。通過這些測試，確保系統的穩定性和安全性。

## 測試目標

- **驗證基本功能**：確保所有支付功能正常運作，包括主動式和被動式支付。
- **模擬錯誤情境**：涵蓋應用程式突然關閉、被其他應用程式干擾、背景執行後返回等情況。
- **提高代碼質量**：通過自動化測試，及早發現潛在問題，減少手動測試的需求。

## 測試框架結構


```Shell
以下是本專案的目錄結構：
/payment_wallet_tests
├── tests/
│ ├── test_active_payment.py
│ ├── test_passive_payment.py
│ └── test_qr_barcode_payment.py
├── utils/
│ └── api_client.py
└── conftest.py
```

### 目錄結構說明

- **tests/**: 包含所有測試案例文件。
- **utils/**: 包含 API 客戶端，用於與電子支付系統進行交互。
- **conftest.py**: 定義共享的 fixture，以便在測試中重複使用。

## 測試案例詳情

### 1. 主動式支付測試 (`test_active_payment.py`)

- **成功支付**：檢查有效金額的支付是否成功。
- **無效金額**：檢查負數金額是否返回失敗狀態。
- **應用關閉**：模擬應用程式突然關閉，檢查是否正確處理異常。
- **背景執行**：檢查在背景執行後返回時的行為。

### 2. 被動式支付測試 (`test_passive_payment.py`)

- **成功支付**：檢查有效 QR 碼的支付是否成功。
- **無效 QR 碼**：檢查無效 QR 碼是否返回失敗狀態。
- **應用干擾**：模擬其他應用程式干擾，檢查是否正確處理異常。
- **背景執行**：檢查在背景執行後返回時的行為。

### 3. 條碼與 QR 碼驗證測試 (`test_qr_barcode_payment.py`)

- **有效 QR 碼驗證**：檢查有效 QR 碼是否被正確識別。
- **無效 QR 碼驗證**：檢查無效 QR 碼是否被正確識別為無效。

## 測試工具

- **Python**: 用於編寫測試代碼。
- **pytest**: 測試框架，用於組織和執行測試案例。
- **requests**: 用於發送 HTTP 請求，與電子支付 API 進行交互。

## 為何這麼寫？

1. **模組化設計**：將每個功能拆分成獨立的測試案例，使得每個案例都能專注於特定功能，便於維護和擴展。
2. **錯誤情境模擬**：考慮到真實世界中的各種異常情況，以提高系統的健壯性和可靠性。
3. **共享 Fixture**：使用 `conftest.py` 定義共享 fixture，避免重複代碼，提高可讀性和可維護性。

## 如何運行測試

要運行測試，請確保您已安裝所需的庫，然後使用以下命令：


```Shell
pip install -r requirements.txt
pytest --html=report.html --self-contained-html
```



這將生成一個 HTML 格式的報告，以便查看測試結果。

## 結論

本自動化測試框架旨在提高電子支付錢包系統的質量和可靠性。通過全面的功能驗證和錯誤情境模擬，我們能夠及時發現問題並進行修復，從而提升用戶體驗。如果您有任何問題或建議，歡迎隨時聯繫我們！

